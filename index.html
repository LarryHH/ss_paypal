<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Secret Santa Riddler</title>
  <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css"
    integrity="sha384-Uu6IeWbM+gzNVXJcM9XV3SohHtmWE+3VGi496jvgX1jyvDTXfdK+rfZc8C1Aehk5" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
  <script
    src="https://www.paypal.com/sdk/js?currency=AUD&client-id=AX37tDrHsSWcVgPh4vjAWVfzg2OoK8g8mMuX4akr5s1PXBBkv5Ff0apOseF_hg7hCd-KEK_wY7jbx2i_"></script>
  <script src="/script.js"></script>
</head>

<body>
  <br>
  <h1 style="display: flex; justify-content: center; align-items: center; text-align: center;">Merry Christmas {recipient.name}!
  </h1>
  <hr style="width: 85%; text-align: center;">
  <strong style="display: flex; justify-content: center; align-items: center; text-align: center; line-height: 1.5;">
    A riddle for the {recipient.name}, 1 2 3. <br>
    Three gifts before you, A B or C.<br>
    Only one to pick, which will it be?<br>
    Perhaps a hint? Go on, they're free!
  </strong>
  <hr style="width: 85%; text-align: center;">
  <div id="buttonA" class='btn-primary--next' onclick="renderPaypalButton(this.id)">Hint A</div>
  <div id="paypalA" class="center" style='width: 100%; transform: scale(5vmin);'></div>
  <div style="display: flex; align-items: center; justify-content: center;"><div style="padding: 20px" id="hintA" class="inactive center"></div></div>

  <div id="buttonB" class='btn-primary--next' onclick="renderPaypalButton(this.id)">Hint B</div>
  <div id="paypalB" class="center" style='width: 100%; transform: scale(5vmin);'></div>
  <div style="display: flex; align-items: center; justify-content: center;"><div style="padding: 20px" id="hintB" class="inactive center"></div></div>

  <div id="buttonC" class='btn-primary--next' onclick="renderPaypalButton(this.id)">Hint C</div>
  <div id="paypalC" class="center" style='width: 100%; transform: scale(5vmin);'></div>
  <div style="display: flex; align-items: center; justify-content: center;"><div style="padding: 20px" id="hintC" class="inactive center"></div></div>
</body>

</html>

<script>
  window.onload = function () {
    let purchaseIDs = [false, false, false];
    if (localStorage.getItem("purchaseIDs") === null) {
      // console.log('fresh ids')
      // console.log(purchaseIDs)
      localStorage.setItem('purchaseIDs', JSON.stringify(purchaseIDs))
    }
    // else
    //   console.log(localStorage.getItem("purchaseIDs"))
    purchaseIDs = JSON.parse(localStorage.getItem("purchaseIDs"))
    let divIDs = ['hintA', 'hintB', 'hintC']
    // let hintText = [atob("aGVsbG93IHdvcmxkIDE="), atob("aGVsbG93IHdvcmxkIDE="), atob("PGEgaHJlZj0naHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj04UzJmbUwxLUxwOCc+Q3JlZGl0IHdoZXJlIGNyZWRpdCBpcyBkdWUuPC9hPg==")]
    for (let index = 0; index < purchaseIDs.length; index++) {
      if (purchaseIDs[index]) {
        // console.log(index)
        // console.log(divIDs[index])
        // console.log(HINTTEXT[index])
        document.getElementById(divIDs[index]).innerHTML = HINTTEXT[index];
        document.getElementById(divIDs[index]).classList.add('active');
      }
    }
  }
</script>